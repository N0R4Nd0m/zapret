<div align="center">

Альтернативы https://github.com/bol-van/zapret-win-bundle https://github.com/Flowseal/zapret-discord-youtube

Проверить работу можно здесь: https://hyperion-cs.github.io/dpi-checkers/ru/tcp-16-20
или скачав и запустив это: https://github.com/Runnin4ik/dpi-detector

Также вы можете материально поддержать оригинального разработчика zapret [тут](https://github.com/bol-van/zapret?tab=readme-ov-file#%D0%BF%D0%BE%D0%B4%D0%B4%D0%B5%D1%80%D0%B6%D0%B0%D1%82%D1%8C-%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0)
</div>

## ⚙️Использование

1. Включите DNS over HTTPS и DNS over TLS (DoH, DoT)
    * В Chrome - "Использовать безопасный DNS", и выбрать поставщика услуг DNS (выбрать вариант, отличный от поставщика по умолчанию)
    * В Firefox - "Включить DNS через HTTPS, используя: Максимальную защиту", затем "Выбрать поставщика" и вписать URL поставщика вручную, например можно использовать `https://dns.google/dns-query` (т.к. поставщик Cloudflare может быть заблокирован)
    * В Windows 11 поддерживается включение Secure DNS прямо в настройках ОС
    * Роутер Keenetic\Netcraze -> Сетевые правила -> Интернет-фильтры -> Настройка DNS -> +Добавить сервер -> Выбрать Тип сервера DNS -> Вписать -> Сохранить (список можно найти здесь https://adguard-dns.io/kb/ru/general/dns-providers)

2. Скачайте архив (zip/rar) со [страницы последнего релиза](https://github.com/N0R4Nd0m/zapret/releases/latest)

3. Распакуйте содержимое архива по пути, который не содержит кириллицу/спец. символы

4. Запустите нужный файл

## ℹ️Краткие описания файлов

- [**`service.bat`**](./service.bat) - установка в автозапуск и другие функции:
  - <ins>**`Install Service`** - установка любой стратегии в автозапуск (services.msc)</ins>
  - **`Remove Services`** - удаление стратегии и WinDivert из служб
  - **`Check Status`** - проверка статуса обхода и служб (стратегии на автозапуске и WinDivert)
  - **`Game Filter`** - переключение режима обхода для игр в 3 режимах: TCP, UDP или TCP и UDP (и других сервисов, использующих UDP и TCP на портах выше 1023).  
  **После переключения требуется перезапуск стратегии.**  
  В скобках указан текущий статус (включено/выключено).
  - **`IPSet Filter`** - переключение режима обхода сервисов из `ipset-all.txt`.  
  Полезно при тестировании, если не работает ресурс, который без zapret работает  
  В скобках указан текущий статус:
    - `none` - никакие айпи не попадают под проверку
    - `loaded` - айпи проверяется на вхождение в список
    - `any` - любой айпи попадает под фильтр  
  - **`Auto-Update Check`** - Вкл/Выкл автоматическую проверку на обновления
  - **`Update IPSet List`** - обновление списка `ipset-all.txt` актуальным из репозитория
  - **`Update Hosts File`** - обновление файла hosts <ins>**для починки веб версии телеграма и подключения к голосовому чату Discord**</ins>
  - **`Check for Updates`** - проверка на обновления
  - **`Run Diagnostics`** - диагностика на распространённые причины, по которым zapret может не работать.  
  В конце можно очистить кэш <img src="https://cdn-icons-png.flaticon.com/128/5968/5968756.png" height=11 /> `Discord`, что может помочь, если он неожиданно перестал работать
  - **`Run Tests`** - запуск утилиты для проверки стратегий на работоспособность:
    - `Standard tests` - проверка сайтов из `utils/targets.txt`
    - `DPI checkers` - проверка DPI на различных провайдерах (Cloudflare, Amazon и др.)
